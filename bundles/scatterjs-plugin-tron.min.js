!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=243)}({1:function(t,n){t.exports=ScatterJS},18:function(t,n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(n){return"function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?t.exports=r=function(t){return e(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},r(n)}t.exports=r},23:function(t,n){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},24:function(t,n){function e(n,r){return t.exports=e=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},e(n,r)}t.exports=e},243:function(t,n,e){"use strict";e.r(n),e.d(n,"default",function(){return v});var r=e(3),o=e.n(r),u=e(4),i=e.n(u),c=e(7),f=e.n(c),a=e(8),l=e.n(a),s=e(9),p=e.n(s),y=e(1),b=y.SocketService,d=function(t,n){return new Proxy(t,n)},v=function(t){function n(){return o()(this,n),f()(this,l()(n).call(this,y.Blockchains.TRX,y.PluginTypes.BLOCKCHAIN_SUPPORT))}return p()(n,t),i()(n,[{key:"setSocketService",value:function(t){b=t}},{key:"hookProvider",value:function(){throw new Error("Tron hook provider not enabled yet.")}},{key:"signatureProvider",value:function(){var t=0>=arguments.length?void 0:arguments[0],n=1>=arguments.length?void 0:arguments[1];return function(e,r){e=y.Network.fromJson(e);var o=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return function(o){return t(),new Promise(function(t,u){var i={transaction:{transaction:o,participants:[r.defaultAddress.base58]},blockchain:y.Blockchains.TRX,network:e,requiredFields:{},abi:n};b.sendApiRequest({type:"requestSignature",payload:i}).then(function(n){return t(n.signatures[0])}).catch(function(t){return u(t)})})}},u=function(){var t=n(),e=t&&t.accounts.find(function(t){return t.blockchain===y.Blockchains.TRX})?t.accounts.find(function(t){return t.blockchain===y.Blockchains.TRX}).address:null;e&&r.setAddress(e)};return d(r,{get:function(t,n){return u(),r.trx.sign=o(),"function"==typeof t[n]?function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return"contract"===n?d(t[n].apply(t,r),{get:function(n,e){return u(),t.trx.sign=o({abi:r[0],address:r[1],method:e}),n[e]}}):t[n].apply(t,r)}:t[n]}})}}}]),n}(y.Plugin);"undefined"!=typeof window&&(window.ScatterTron=v)},3:function(t,n){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},4:function(t,n){function e(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}},7:function(t,n,e){var r=e(18),o=e(23);t.exports=function(t,n){return!n||"object"!==r(n)&&"function"!=typeof n?o(t):n}},8:function(t,n){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e},9:function(t,n,e){var r=e(24);t.exports=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&r(t,n)}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiU2NhdHRlckpTXCIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2Fzc2VydFRoaXNJbml0aWFsaXplZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zZXRQcm90b3R5cGVPZi5qcyIsIndlYnBhY2s6Ly8vLi9wYWNrYWdlcy9wbHVnaW4tdHJvbi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlNjYXR0ZXJKUyIsIl90eXBlb2YyIiwib2JqIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsIl90eXBlb2YiLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfc2V0UHJvdG90eXBlT2YiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsInNvY2tldFNlcnZpY2UiLCJzY2F0dGVyanNfY29yZV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fIiwicHJveHkiLCJkdW1teSIsImhhbmRsZXIiLCJQcm94eSIsIlNjYXR0ZXJUcm9uIiwiYSIsImIiLCJfYmFiZWxfcnVudGltZV9oZWxwZXJzX2NsYXNzQ2FsbENoZWNrX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCIsInRoaXMiLCJfYmFiZWxfcnVudGltZV9oZWxwZXJzX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0IiwiX2JhYmVsX3J1bnRpbWVfaGVscGVyc19nZXRQcm90b3R5cGVPZl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fX2RlZmF1bHQiLCJUUlgiLCJCTE9DS0NIQUlOX1NVUFBPUlQiLCJfYmFiZWxfcnVudGltZV9oZWxwZXJzX2luaGVyaXRzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19fZGVmYXVsdCIsIl9iYWJlbF9ydW50aW1lX2hlbHBlcnNfY3JlYXRlQ2xhc3NfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0IiwiX3MiLCJFcnJvciIsInRocm93SWZOb0lkZW50aXR5IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiaWRlbnRpdHlGZXRjaGVyIiwibmV0d29yayIsIl90cm9uIiwiZnJvbUpzb24iLCJnZXRTaWduZXIiLCJhYmkiLCJzaWduYXJncyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicGF5bG9hZCIsInRyYW5zYWN0aW9uIiwicGFydGljaXBhbnRzIiwiZGVmYXVsdEFkZHJlc3MiLCJiYXNlNTgiLCJibG9ja2NoYWluIiwicmVxdWlyZWRGaWVsZHMiLCJzZW5kQXBpUmVxdWVzdCIsInR5cGUiLCJ0aGVuIiwieCIsInNpZ25hdHVyZXMiLCJjYXRjaCIsInNldEFkZHJlc3MiLCJpZCIsImFkZHJlc3MiLCJhY2NvdW50cyIsImZpbmQiLCJpbnN0YW5jZSIsIm1ldGhvZCIsInRyeCIsInNpZ24iLCJhcmdzIiwiQXJyYXkiLCJnIiwiYXBwbHkiLCJ3aW5kb3ciLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJhc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJfZ2V0UHJvdG90eXBlT2YiLCJnZXRQcm90b3R5cGVPZiIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixF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QXdHLEVBQUF4RyxHQUdBVixFQUFBRCxRQUFBbUgscUJDUEEsSUFBQXhFLEVBQXFCN0MsRUFBUSxJQWlCN0JHLEVBQUFELFFBZkEsU0FBQXFILEVBQUFDLEdBQ0Esc0JBQUFBLEdBQUEsT0FBQUEsRUFDQSxVQUFBYixVQUFBLHNEQUdBWSxFQUFBdkYsVUFBQWxCLE9BQUFZLE9BQUE4RixLQUFBeEYsV0FDQVEsYUFDQW5CLE1BQUFrRyxFQUNBTixVQUFBLEVBQ0FELGNBQUEsS0FHQVEsR0FBQTNFLEVBQUEwRSxFQUFBQyIsImZpbGUiOiJzY2F0dGVyanMtcGx1Z2luLXRyb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDI0Myk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFNjYXR0ZXJKUzsiLCJmdW5jdGlvbiBfdHlwZW9mMihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZjIob2JqKTsgfVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YyKFN5bWJvbC5pdGVyYXRvcikgPT09IFwic3ltYm9sXCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIF90eXBlb2YyKG9iaik7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IF90eXBlb2YyKG9iaik7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfdHlwZW9mKG9iaik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3R5cGVvZjsiLCJmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBzZWxmO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQ7IiwiZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgcmV0dXJuIG87XG4gIH07XG5cbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfc2V0UHJvdG90eXBlT2Y7IiwiaW1wb3J0IHtcclxuXHRQbHVnaW4sXHJcblx0UGx1Z2luVHlwZXMsXHJcblx0QmxvY2tjaGFpbnMsXHJcblx0TmV0d29yayxcclxuXHRTb2NrZXRTZXJ2aWNlXHJcbn0gZnJvbSAnc2NhdHRlcmpzLWNvcmUnO1xyXG5sZXQgc29ja2V0U2VydmljZSA9IFNvY2tldFNlcnZpY2U7XHJcbmNvbnN0IHByb3h5ID0gKGR1bW15LCBoYW5kbGVyKSA9PiBuZXcgUHJveHkoZHVtbXksIGhhbmRsZXIpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NhdHRlclRyb24gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoQmxvY2tjaGFpbnMuVFJYLCBQbHVnaW5UeXBlcy5CTE9DS0NIQUlOX1NVUFBPUlQpXHJcbiAgICB9XHJcblxyXG5cdHNldFNvY2tldFNlcnZpY2UoX3Mpe1xyXG5cdFx0c29ja2V0U2VydmljZSA9IF9zO1xyXG5cdH1cclxuXHJcbiAgICBob29rUHJvdmlkZXIobmV0d29yayl7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUcm9uIGhvb2sgcHJvdmlkZXIgbm90IGVuYWJsZWQgeWV0LicpO1xyXG4gICAgfVxyXG5cclxuICAgIHNpZ25hdHVyZVByb3ZpZGVyKC4uLmFyZ3Mpe1xyXG4gICAgICAgIGNvbnN0IHRocm93SWZOb0lkZW50aXR5ID0gYXJnc1swXTtcclxuICAgICAgICBjb25zdCBpZGVudGl0eUZldGNoZXIgPSBhcmdzWzFdO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHJldHVybiAobmV0d29yaywgX3Ryb24pID0+IHtcclxuXHJcbiAgICAgICAgICAgIG5ldHdvcmsgPSBOZXR3b3JrLmZyb21Kc29uKG5ldHdvcmspO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZ2V0U2lnbmVyID0gKGFiaSA9IG51bGwpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2lnbmFyZ3MgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93SWZOb0lkZW50aXR5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb246c2lnbmFyZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6W190cm9uLmRlZmF1bHRBZGRyZXNzLmJhc2U1OF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IHRyYW5zYWN0aW9uLCBibG9ja2NoYWluOkJsb2NrY2hhaW5zLlRSWCwgbmV0d29yaywgcmVxdWlyZWRGaWVsZHM6e30sIGFiaSB9O1xyXG5cdCAgICAgICAgICAgICAgICAgICAgc29ja2V0U2VydmljZS5zZW5kQXBpUmVxdWVzdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOidyZXF1ZXN0U2lnbmF0dXJlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbih4ID0+IHJlc29sdmUoeC5zaWduYXR1cmVzWzBdKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goeCA9PiByZWplY3QoeCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICBjb25zdCBzZXRBZGRyZXNzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSBpZGVudGl0eUZldGNoZXIoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFkZHJlc3MgPSBpZCAmJiBpZC5hY2NvdW50cy5maW5kKHggPT4geC5ibG9ja2NoYWluID09PSBCbG9ja2NoYWlucy5UUlgpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBpZC5hY2NvdW50cy5maW5kKHggPT4geC5ibG9ja2NoYWluID09PSBCbG9ja2NoYWlucy5UUlgpLmFkZHJlc3NcclxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoYWRkcmVzcykgX3Ryb24uc2V0QWRkcmVzcyhhZGRyZXNzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwcm94eShfdHJvbiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0KGluc3RhbmNlLCBtZXRob2QpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRBZGRyZXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX3Ryb24udHJ4LnNpZ24gPSBnZXRTaWduZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIGluc3RhbmNlW21ldGhvZF0gPT09ICdmdW5jdGlvbicpIHJldHVybiAoLi4uYXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihtZXRob2QgPT09ICdjb250cmFjdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm94eShpbnN0YW5jZVttZXRob2RdKC4uLmFyZ3MpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0KGEsYil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFkZHJlc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UudHJ4LnNpZ24gPSBnZXRTaWduZXIoe2FiaTogYXJnc1swXSwgYWRkcmVzczogYXJnc1sxXSwgbWV0aG9kOmJ9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbYl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZVttZXRob2RdKC4uLmFyZ3MpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gaW5zdGFuY2VbbWV0aG9kXTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuaWYodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIHdpbmRvdy5TY2F0dGVyVHJvbiA9IFNjYXR0ZXJUcm9uO1xyXG59IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY2xhc3NDYWxsQ2hlY2s7IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9jcmVhdGVDbGFzczsiLCJ2YXIgX3R5cGVvZiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIGFzc2VydFRoaXNJbml0aWFsaXplZCA9IHJlcXVpcmUoXCIuL2Fzc2VydFRoaXNJbml0aWFsaXplZFwiKTtcblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgIHJldHVybiBjYWxsO1xuICB9XG5cbiAgcmV0dXJuIGFzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjsiLCJmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICBtb2R1bGUuZXhwb3J0cyA9IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTtcbiAgfTtcbiAgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZ2V0UHJvdG90eXBlT2Y7IiwidmFyIHNldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4vc2V0UHJvdG90eXBlT2ZcIik7XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIHNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaW5oZXJpdHM7Il0sInNvdXJjZVJvb3QiOiIifQ==