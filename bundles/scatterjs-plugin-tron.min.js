!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=278)}({1:function(t,n){t.exports=ScatterJS},12:function(t,n,e){var r=e(24),o=e(31);t.exports=function(t,n){return!n||"object"!==r(n)&&"function"!=typeof n?o(t):n}},13:function(t,n){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e},14:function(t,n,e){var r=e(32);t.exports=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&r(t,n)}},24:function(t,n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(n){return"function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?t.exports=r=function(t){return e(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},r(n)}t.exports=r},278:function(t,n,e){"use strict";e.r(n),e.d(n,"default",function(){return v});var r=e(3),o=e.n(r),u=e(4),i=e.n(u),c=e(12),f=e.n(c),a=e(13),l=e.n(a),s=e(14),p=e.n(s),y=e(1),b=y.SocketService,d=function(t,n){return new Proxy(t,n)},v=function(t){function n(){return o()(this,n),f()(this,l()(n).call(this,y.Blockchains.TRX,y.PluginTypes.BLOCKCHAIN_SUPPORT))}return p()(n,t),i()(n,[{key:"setSocketService",value:function(t){b=t}},{key:"hookProvider",value:function(){throw new Error("Tron hook provider not enabled yet.")}},{key:"signatureProvider",value:function(){var t=0>=arguments.length?void 0:arguments[0],n=1>=arguments.length?void 0:arguments[1];return function(e,r){e=y.Network.fromJson(e);var o=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return function(o){return t(),new Promise(function(t,u){var i={transaction:{transaction:o,participants:[r.defaultAddress.base58]},blockchain:y.Blockchains.TRX,network:e,requiredFields:{},abi:n};b.sendApiRequest({type:"requestSignature",payload:i}).then(function(n){return t(n.signatures[0])}).catch(function(t){return u(t)})})}},u=function(){var t=n(),e=t&&t.accounts.find(function(t){return t.blockchain===y.Blockchains.TRX})?t.accounts.find(function(t){return t.blockchain===y.Blockchains.TRX}).address:null;e&&r.setAddress(e)};return d(r,{get:function(t,n){return u(),r.trx.sign=o(),"function"==typeof t[n]?function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return"contract"===n?d(t[n].apply(t,r),{get:function(n,e){return u(),t.trx.sign=o({abi:r[0],address:r[1],method:e}),n[e]}}):t[n].apply(t,r)}:t[n]}})}}}]),n}(y.Plugin);"undefined"!=typeof window&&(window.ScatterTron=v)},3:function(t,n){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},31:function(t,n){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},32:function(t,n){function e(n,r){return t.exports=e=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},e(n,r)}t.exports=e},4:function(t,n){function e(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiU2NhdHRlckpTXCIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YuanMiLCJ3ZWJwYWNrOi8vLy4vcGFja2FnZXMvcGx1Z2luLXRyb24vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2Fzc2VydFRoaXNJbml0aWFsaXplZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zZXRQcm90b3R5cGVPZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlNjYXR0ZXJKUyIsIl90eXBlb2YiLCJhc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJzZWxmIiwiX2dldFByb3RvdHlwZU9mIiwic2V0UHJvdG90eXBlT2YiLCJnZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsIlR5cGVFcnJvciIsImNvbnN0cnVjdG9yIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJfdHlwZW9mMiIsIm9iaiIsIml0ZXJhdG9yIiwic29ja2V0U2VydmljZSIsInNjYXR0ZXJqc19jb3JlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18iLCJwcm94eSIsImR1bW15IiwiaGFuZGxlciIsIlByb3h5IiwiU2NhdHRlclRyb24iLCJiIiwiX2JhYmVsX3J1bnRpbWVfaGVscGVyc19jbGFzc0NhbGxDaGVja19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQiLCJ0aGlzIiwiX2JhYmVsX3J1bnRpbWVfaGVscGVyc19wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19fZGVmYXVsdCIsIl9iYWJlbF9ydW50aW1lX2hlbHBlcnNfZ2V0UHJvdG90eXBlT2ZfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX19kZWZhdWx0IiwiVFJYIiwiQkxPQ0tDSEFJTl9TVVBQT1JUIiwiX3MiLCJFcnJvciIsInRocm93SWZOb0lkZW50aXR5IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiaWRlbnRpdHlGZXRjaGVyIiwibmV0d29yayIsIl90cm9uIiwiZnJvbUpzb24iLCJnZXRTaWduZXIiLCJhYmkiLCJzaWduYXJncyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicGF5bG9hZCIsInRyYW5zYWN0aW9uIiwicGFydGljaXBhbnRzIiwiZGVmYXVsdEFkZHJlc3MiLCJiYXNlNTgiLCJibG9ja2NoYWluIiwicmVxdWlyZWRGaWVsZHMiLCJzZW5kQXBpUmVxdWVzdCIsInR5cGUiLCJ0aGVuIiwieCIsInNpZ25hdHVyZXMiLCJjYXRjaCIsInNldEFkZHJlc3MiLCJpZCIsImFkZHJlc3MiLCJhY2NvdW50cyIsImZpbmQiLCJpbnN0YW5jZSIsIm1ldGhvZCIsInRyeCIsInNpZ24iLCJhIiwiYXJncyIsIkFycmF5IiwiaCIsImFwcGx5Iiwid2luZG93IiwiQ29uc3RydWN0b3IiLCJSZWZlcmVuY2VFcnJvciIsIl9zZXRQcm90b3R5cGVPZiIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4sRUFBQXJCLEVBQUFVLEVBQUFlLEVBQUFFLEVBQUEsU0FBQUEsR0FBZ0gsT0FBQU4sRUFBQU0sSUFBcUJDLEtBQUEsS0FBQUQsSUFDckksT0FBQUYsR0FJQXpCLEVBQUE2QixFQUFBLFNBQUExQixHQUNBLElBQUFTLEVBQUFULEtBQUFxQixXQUNBLFdBQTJCLE9BQUFyQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBaUIsRUFBQUMsR0FBc0QsT0FBQWpCLE9BQUFrQixVQUFBQyxlQUFBMUIsS0FBQXVCLEVBQUFDLElBR3REL0IsRUFBQWtDLEVBQUEsR0FJQWxDLElBQUFtQyxFQUFBLHVCQ2xGQWhDLEVBQUFELFFBQUFrQyw4QkNBQSxJQUFBQyxFQUFjckMsRUFBUSxJQUV0QnNDLEVBQTRCdEMsRUFBUSxJQVVwQ0csRUFBQUQsUUFSQSxTQUFBcUMsRUFBQWhDLEdBQ0EsT0FBQUEsR0FBQSxXQUFBOEIsRUFBQTlCLElBQUEsbUJBQUFBLEVBSUErQixFQUFBQyxHQUhBaEMscUJDTkEsU0FBQWlDLEVBQUEzQixHQUlBLE9BSEFWLEVBQUFELFFBQUFzQyxFQUFBMUIsT0FBQTJCLGVBQUEzQixPQUFBNEIsZUFBQSxTQUFBN0IsR0FDQSxPQUFBQSxFQUFBOEIsV0FBQTdCLE9BQUE0QixlQUFBN0IsSUFFQTJCLEVBQUEzQixHQUdBVixFQUFBRCxRQUFBc0Msc0JDUEEsSUFBQUMsRUFBcUJ6QyxFQUFRLElBaUI3QkcsRUFBQUQsUUFmQSxTQUFBMEMsRUFBQUMsR0FDQSxzQkFBQUEsR0FBQSxPQUFBQSxFQUNBLFVBQUFDLFVBQUEsc0RBR0FGLEVBQUFaLFVBQUFsQixPQUFBWSxPQUFBbUIsS0FBQWIsV0FDQWUsYUFDQTFCLE1BQUF1QixFQUNBSSxVQUFBLEVBQ0FDLGNBQUEsS0FHQUosR0FBQUosRUFBQUcsRUFBQUMsc0JDZEEsU0FBQUssRUFBQUMsR0FBNlUsT0FBMU9ELEVBQTNFLG1CQUFBL0IsUUFBQSxpQkFBQUEsT0FBQWlDLFNBQTJFLFNBQUFELEdBQW9DLGNBQUFBLEdBQStCLFNBQUFBLEdBQW9DLE9BQUFBLEdBQUEsbUJBQUFoQyxRQUFBZ0MsRUFBQUosY0FBQTVCLFFBQUFnQyxJQUFBaEMsT0FBQWEsVUFBQSxnQkFBQW1CLElBQW1JQSxHQUU3VSxTQUFBZCxFQUFBYyxHQVdBLE1BVkEsbUJBQUFoQyxRQUFBLFdBQUErQixFQUFBL0IsT0FBQWlDLFVBQ0FqRCxFQUFBRCxRQUFBbUMsRUFBQSxTQUFBYyxHQUNBLE9BQUFELEVBQUFDLElBR0FoRCxFQUFBRCxRQUFBbUMsRUFBQSxTQUFBYyxHQUNBLE9BQUFBLEdBQUEsbUJBQUFoQyxRQUFBZ0MsRUFBQUosY0FBQTVCLFFBQUFnQyxJQUFBaEMsT0FBQWEsVUFBQSxTQUFBa0IsRUFBQUMsSUFJQWQsRUFBQWMsR0FHQWhELEVBQUFELFFBQUFtQywrS0NUSWdCLEVBQWdCQyxFQUFBLGNBQ2RDLEVBQVEsU0FBQ0MsRUFBT0MsR0FBUixPQUFvQixJQUFJQyxNQUFNRixFQUFPQyxJQUU5QkUsY0FFakIsU0FBQUMsSUFBYSxPQUFBQyxJQUFBQyxLQUFBRixHQUFBRyxJQUFBRCxLQUFBRSxJQUFBSixHQUFBckQsS0FBQXVELEtBQ0hSLEVBQUEsWUFBWVcsSUFBS1gsRUFBQSxZQUFZWSxtRkFHekJDLEdBQ2hCZCxFQUFnQmMseUNBSVYsTUFBTSxJQUFJQyxNQUFNLG1GQUdNLElBQ2hCQyxFQUFpQixHQUFBQyxVQUFBQyxZQUFBLEVBQUFELFVBQUEsR0FDakJFLEVBQWUsR0FBQUYsVUFBQUMsWUFBQSxFQUFBRCxVQUFBLEdBSXJCLE9BQU8sU0FBQ0csRUFBU0MsR0FFYkQsRUFBVW5CLEVBQUEsUUFBUXFCLFNBQVNGLEdBRkosSUFJakJHLEVBQVksV0FBZ0IsSUFBZkMsRUFBZSxFQUFBUCxVQUFBQyxhQUFBLElBQUFELFVBQUEsR0FBQUEsVUFBQSxHQUFULEtBRXJCLE9BQU8sU0FBQVEsR0FHSCxPQUZBVCxJQUVPLElBQUlVLFFBQVEsU0FBQ0MsRUFBU0MsR0FBVyxJQUs5QkMsR0FBWUMsYUFIZEEsWUFBWUwsRUFDWk0sY0FBY1YsRUFBTVcsZUFBZUMsU0FFUkMsV0FBV2pDLEVBQUEsWUFBWVcsSUFBS1EsVUFBU2Usa0JBQW1CWCxPQUMxRnhCLEVBQWNvQyxnQkFDUEMsS0FBSyxtQkFDTFIsWUFDRFMsS0FBSyxTQUFBQyxHQUFDLE9BQUlaLEVBQVFZLEVBQUVDLFdBQVcsTUFDL0JDLE1BQU0sU0FBQUYsR0FBQyxPQUFJWCxFQUFPVyxTQU8zQkcsRUFBYSxXQUFNLElBQ2ZDLEVBQUt4QixJQUNMeUIsRUFBVUQsR0FBTUEsRUFBR0UsU0FBU0MsS0FBSyxTQUFBUCxHQUFDLE9BQUlBLEVBQUVMLGFBQWVqQyxFQUFBLFlBQVlXLE1BQ25FK0IsRUFBR0UsU0FBU0MsS0FBSyxTQUFBUCxHQUFDLE9BQUlBLEVBQUVMLGFBQWVqQyxFQUFBLFlBQVlXLE1BQUtnQyxRQUN4RCxLQUVIQSxHQUFTdkIsRUFBTXFCLFdBQVdFLElBR2pDLE9BQU8xQyxFQUFNbUIsR0FDVHpELElBRGdCLFNBQ1ptRixFQUFVQyxHQUFRLE9BQ2xCTixJQUNBckIsRUFBTTRCLElBQUlDLEtBQU8zQixJQUVjLG1CQUFyQndCLEVBQVNDLEdBQStCLFdBQWEsUUFBQUcsRUFBQWxDLFVBQUFDLE9BQVRrQyxFQUFTQyxNQUFBRixHQUFBRyxFQUFBLEVBQUFBLEVBQUFILEVBQUFHLElBQVRGLEVBQVNFLEdBQUFyQyxVQUFBcUMsR0FBQSxNQUM3QyxhQUFYTixFQUNROUMsRUFBTTZDLEVBQVNDLEdBQVRPLE1BQUFSLEVBQW9CSyxJQUM3QnhGLElBRG9DLFNBQ2hDdUYsRUFBRTVDLEdBR0YsT0FGQW1DLElBQ0FLLEVBQVNFLElBQUlDLEtBQU8zQixHQUFXQyxJQUFLNEIsRUFBSyxHQUFJUixRQUFTUSxFQUFLLEdBQUlKLE9BQU96QyxJQUMvRDRDLEVBQUU1QyxNQUtkd0MsRUFBU0MsR0FBVE8sTUFBQVIsRUFBb0JLLElBR25CTCxFQUFTQyxjQTFFQS9DLEVBQUEsUUFrRnBCLG9CQUFYdUQsU0FDTkEsT0FBT2xELFlBQWNBLG9CQ3ZGekJ4RCxFQUFBRCxRQU5BLFNBQUFrRyxFQUFBVSxHQUNBLEtBQUFWLGFBQUFVLEdBQ0EsVUFBQWhFLFVBQUEsd0RDTUEzQyxFQUFBRCxRQVJBLFNBQUFxQyxHQUNBLFlBQUFBLEVBQ0EsVUFBQXdFLGVBQUEsNkRBR0EsT0FBQXhFLHFCQ0xBLFNBQUF5RSxFQUFBbkcsRUFBQXFCLEdBTUEsT0FMQS9CLEVBQUFELFFBQUE4RyxFQUFBbEcsT0FBQTJCLGdCQUFBLFNBQUE1QixFQUFBcUIsR0FFQSxPQURBckIsRUFBQThCLFVBQUFULEVBQ0FyQixHQUdBbUcsRUFBQW5HLEVBQUFxQixHQUdBL0IsRUFBQUQsUUFBQThHLG1CQ1RBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsUUFBQS9HLEVBQUEsRUFBaUJBLEVBQUErRyxFQUFBNUMsT0FBa0JuRSxJQUFBLENBQ25DLElBQUFnSCxFQUFBRCxFQUFBL0csR0FDQWdILEVBQUFwRyxXQUFBb0csRUFBQXBHLGFBQUEsRUFDQW9HLEVBQUFuRSxjQUFBLEVBQ0EsVUFBQW1FLE1BQUFwRSxVQUFBLEdBQ0FsQyxPQUFBQyxlQUFBbUcsRUFBQUUsRUFBQXpGLElBQUF5RixJQVVBakgsRUFBQUQsUUFOQSxTQUFBNEcsRUFBQU8sRUFBQUMsR0FHQSxPQUZBRCxHQUFBSixFQUFBSCxFQUFBOUUsVUFBQXFGLEdBQ0FDLEdBQUFMLEVBQUFILEVBQUFRLEdBQ0FSIiwiZmlsZSI6InNjYXR0ZXJqcy1wbHVnaW4tdHJvbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMjc4KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gU2NhdHRlckpTOyIsInZhciBfdHlwZW9mID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgYXNzZXJ0VGhpc0luaXRpYWxpemVkID0gcmVxdWlyZShcIi4vYXNzZXJ0VGhpc0luaXRpYWxpemVkXCIpO1xuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gIGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgcmV0dXJuIGNhbGw7XG4gIH1cblxuICByZXR1cm4gYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuOyIsImZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICB9O1xuICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9nZXRQcm90b3R5cGVPZjsiLCJ2YXIgc2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi9zZXRQcm90b3R5cGVPZlwiKTtcblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9pbmhlcml0czsiLCJmdW5jdGlvbiBfdHlwZW9mMihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZjIob2JqKTsgfVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YyKFN5bWJvbC5pdGVyYXRvcikgPT09IFwic3ltYm9sXCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIF90eXBlb2YyKG9iaik7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IF90eXBlb2YyKG9iaik7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfdHlwZW9mKG9iaik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3R5cGVvZjsiLCJpbXBvcnQge1xyXG5cdFBsdWdpbixcclxuXHRQbHVnaW5UeXBlcyxcclxuXHRCbG9ja2NoYWlucyxcclxuXHROZXR3b3JrLFxyXG5cdFNvY2tldFNlcnZpY2VcclxufSBmcm9tICdzY2F0dGVyanMtY29yZSc7XHJcbmxldCBzb2NrZXRTZXJ2aWNlID0gU29ja2V0U2VydmljZTtcclxuY29uc3QgcHJveHkgPSAoZHVtbXksIGhhbmRsZXIpID0+IG5ldyBQcm94eShkdW1teSwgaGFuZGxlcik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY2F0dGVyVHJvbiBleHRlbmRzIFBsdWdpbiB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcihCbG9ja2NoYWlucy5UUlgsIFBsdWdpblR5cGVzLkJMT0NLQ0hBSU5fU1VQUE9SVClcclxuICAgIH1cclxuXHJcblx0c2V0U29ja2V0U2VydmljZShfcyl7XHJcblx0XHRzb2NrZXRTZXJ2aWNlID0gX3M7XHJcblx0fVxyXG5cclxuICAgIGhvb2tQcm92aWRlcihuZXR3b3JrKXtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Ryb24gaG9vayBwcm92aWRlciBub3QgZW5hYmxlZCB5ZXQuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2lnbmF0dXJlUHJvdmlkZXIoLi4uYXJncyl7XHJcbiAgICAgICAgY29uc3QgdGhyb3dJZk5vSWRlbnRpdHkgPSBhcmdzWzBdO1xyXG4gICAgICAgIGNvbnN0IGlkZW50aXR5RmV0Y2hlciA9IGFyZ3NbMV07XHJcblxyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIChuZXR3b3JrLCBfdHJvbikgPT4ge1xyXG5cclxuICAgICAgICAgICAgbmV0d29yayA9IE5ldHdvcmsuZnJvbUpzb24obmV0d29yayk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBnZXRTaWduZXIgPSAoYWJpID0gbnVsbCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBzaWduYXJncyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3dJZk5vSWRlbnRpdHkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbjpzaWduYXJncyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50czpbX3Ryb24uZGVmYXVsdEFkZHJlc3MuYmFzZTU4XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsgdHJhbnNhY3Rpb24sIGJsb2NrY2hhaW46QmxvY2tjaGFpbnMuVFJYLCBuZXR3b3JrLCByZXF1aXJlZEZpZWxkczp7fSwgYWJpIH07XHJcblx0ICAgICAgICAgICAgICAgICAgICBzb2NrZXRTZXJ2aWNlLnNlbmRBcGlSZXF1ZXN0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6J3JlcXVlc3RTaWduYXR1cmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKHggPT4gcmVzb2x2ZSh4LnNpZ25hdHVyZXNbMF0pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCh4ID0+IHJlamVjdCh4KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNldEFkZHJlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGlkZW50aXR5RmV0Y2hlcigpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IGlkICYmIGlkLmFjY291bnRzLmZpbmQoeCA9PiB4LmJsb2NrY2hhaW4gPT09IEJsb2NrY2hhaW5zLlRSWClcclxuICAgICAgICAgICAgICAgICAgICA/IGlkLmFjY291bnRzLmZpbmQoeCA9PiB4LmJsb2NrY2hhaW4gPT09IEJsb2NrY2hhaW5zLlRSWCkuYWRkcmVzc1xyXG4gICAgICAgICAgICAgICAgICAgIDogbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihhZGRyZXNzKSBfdHJvbi5zZXRBZGRyZXNzKGFkZHJlc3MpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHByb3h5KF90cm9uLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQoaW5zdGFuY2UsIG1ldGhvZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEFkZHJlc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICBfdHJvbi50cnguc2lnbiA9IGdldFNpZ25lcigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgaW5zdGFuY2VbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuICguLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG1ldGhvZCA9PT0gJ2NvbnRyYWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3h5KGluc3RhbmNlW21ldGhvZF0oLi4uYXJncyksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQoYSxiKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWRkcmVzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS50cnguc2lnbiA9IGdldFNpZ25lcih7YWJpOiBhcmdzWzBdLCBhZGRyZXNzOiBhcmdzWzFdLCBtZXRob2Q6Yn0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVtiXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlW21ldGhvZF0oLi4uYXJncylcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHJldHVybiBpbnN0YW5jZVttZXRob2RdO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5pZih0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgd2luZG93LlNjYXR0ZXJUcm9uID0gU2NhdHRlclRyb247XHJcbn0iLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9jbGFzc0NhbGxDaGVjazsiLCJmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBzZWxmO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQ7IiwiZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgcmV0dXJuIG87XG4gIH07XG5cbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfc2V0UHJvdG90eXBlT2Y7IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgcmV0dXJuIENvbnN0cnVjdG9yO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9jcmVhdGVDbGFzczsiXSwic291cmNlUm9vdCI6IiJ9